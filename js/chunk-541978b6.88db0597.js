(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-541978b6"],{"2d8e":function(e,t,r){"use strict";r.d(t,"h",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"e",(function(){return u})),r.d(t,"b",(function(){return i})),r.d(t,"m",(function(){return s})),r.d(t,"j",(function(){return l})),r.d(t,"d",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"l",(function(){return p})),r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return m})),r.d(t,"k",(function(){return g})),r.d(t,"i",(function(){return b}));var n=r("9bd2");function o(e,t,r,o){return Object(n["a"])({url:"/user/page/query?username="+e+"&extend="+t+"&page="+r+"&length="+o,method:"get"})}function a(){return Object(n["a"])({url:"/user/detail",method:"get"})}function u(e){return Object(n["a"])({url:"/user/page/fuzzy/query",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/user/create",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/user/update",method:"put",data:e})}function l(e){return Object(n["a"])({url:"/user/retire?id="+e,method:"put"})}function c(e){return Object(n["a"])({url:"/user/del?id="+e,method:"delete"})}function d(){return Object(n["a"])({url:"/user/password/random",method:"get"})}function p(){return Object(n["a"])({url:"/user/ldap/sync",method:"get"})}function f(e){return Object(n["a"])({url:"/user/token/apply",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/user/token/del?id="+e,method:"delete"})}function g(e){return Object(n["a"])({url:"/user/credential/save",method:"post",data:e})}function b(e){return Object(n["a"])({url:"/user/server/tree/query",method:"post",data:e})}},"52ab":function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"i",(function(){return u})),r.d(t,"b",(function(){return i})),r.d(t,"h",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return p}));var n=r("9bd2");function o(e,t,r,o,a,u){return Object(n["a"])({url:"/user/group/page/query?name="+e+"&grpType="+t+"&workflow="+r+"&extend="+o+"&page="+a+"&length="+u,method:"get"})}function a(e){return Object(n["a"])({url:"/user/group/add",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/user/group/update",method:"put",data:e})}function i(e){return Object(n["a"])({url:"/user/group/del?id="+e,method:"delete"})}function s(){return Object(n["a"])({url:"/user/group/ldap/sync",method:"get"})}function l(e,t){return Object(n["a"])({url:"/user/group/grant?userId="+e+"&userGroupId="+t,method:"get"})}function c(e,t){return Object(n["a"])({url:"/user/group/revoke?userId="+e+"&userGroupId="+t,method:"delete"})}function d(e,t,r){return Object(n["a"])({url:"/user/include/group/page/query?userId="+e+"&page="+t+"&length="+r,method:"get"})}function p(e,t,r,o){return Object(n["a"])({url:"/user/exclude/group/page/query?userId="+e+"&queryName="+t+"&page="+r+"&length="+o,method:"get"})}},"8c2af":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.formStatus.title,visible:e.formStatus.visible,"before-close":e.closeDialog},on:{"update:visible":function(t){return e.$set(e.formStatus,"visible",t)}}},[r("div",{staticStyle:{"margin-bottom":"5px"}},[r("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{gutter:24}},[r("el-select",{staticStyle:{display:"inline-block","max-width":"200px","margin-left":"10px"},attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"输入关键词搜索服务器组","remote-method":e.getServerGroup,loading:e.loading},model:{value:e.serverGroupId,callback:function(t){e.serverGroupId=t},expression:"serverGroupId"}},e._l(e.serverGroupOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",disabled:""==e.serverGroupId,plain:"",size:"mini"},on:{click:function(t){return e.grantServerGroup()}}},[e._v("授权 ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"name",label:"已授权服务器组名称"}}),r("el-table-column",{attrs:{prop:"serverGroupType",label:"组类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{style:{color:t.row.serverGroupType.color},attrs:{"disable-transitions":""}},[e._v(" "+e._s(t.row.serverGroupType.name)+" ")])]}}])}),r("el-table-column",{attrs:{prop:"comment",label:"描述"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(r){return e.revokeServerGroup(t.row)}}},[e._v("解除")])]}}])})],1),r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.pagination.total,"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize},on:{"current-change":e.paginationCurrentChange}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.formStatus.visible=!1}}},[e._v("关闭")])],1)],1)},o=[],a=r("e8b6"),u={data:function(){return{serverGroupId:"",user:{},tableData:[],serverGroupOptions:[],loading:!1,pagination:{currentPage:1,pageSize:10,total:0}}},name:"user-servergroup-dialog",props:["formStatus"],mixins:[],mounted:function(){},methods:{initData:function(e){this.user=e,this.serverGroupId="",this.pagination.currentPage=1,this.getServerGroup(""),this.fetchData()},getServerGroup:function(e){var t=this;Object(a["f"])(this.user.id,e,1,20).then((function(e){t.serverGroupOptions=e.body.data}))},closeDialog:function(){this.formStatus.visible=!1,this.$emit("closeUserServerGroupDialog")},handleClick:function(){this.$emit("input",!this.value)},grantServerGroup:function(){var e=this;setTimeout((function(){Object(a["c"])(e.user.id,e.serverGroupId).then((function(t){e.$message({message:"成功",type:"success"}),e.serverGroupId="",e.getServerGroup(""),e.fetchData()}))}),30)},revokeServerGroup:function(e){var t=this;setTimeout((function(){Object(a["h"])(t.user.id,e.id).then((function(e){t.$message({message:"成功",type:"success"}),t.getServerGroup(""),t.fetchData()}))}),30)},paginationCurrentChange:function(e){this.pagination.currentPage=e,this.fetchData()},fetchData:function(){var e=this;this.loading=!0,Object(a["g"])(this.user.id,this.pagination.currentPage,this.pagination.pageSize).then((function(t){e.tableData=t.body.data,e.pagination.total=t.body.totalNum,e.loading=!1}))}}},i=u,s=r("2877"),l=function(e){e.options.__source="src/components/opscloud/dialog/UserServerGroupDialog.vue"},c=l,d=Object(s["a"])(i,n,o,!1,null,null,null);"function"===typeof c&&c(d);t["a"]=d.exports},c04d:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.formStatus.title,visible:e.formStatus.visible,"before-close":e.closeDialog},on:{"update:visible":function(t){return e.$set(e.formStatus,"visible",t)}}},[r("div",{staticStyle:{"margin-bottom":"5px"}},[r("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{gutter:24}},[r("el-select",{staticStyle:{display:"inline-block","max-width":"200px","margin-left":"10px"},attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"输入关键词搜索用户组","remote-method":e.getUserGroup,loading:e.loading},model:{value:e.userGroupId,callback:function(t){e.userGroupId=t},expression:"userGroupId"}},e._l(e.userGroupOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",disabled:""==e.userGroupId,plain:"",size:"mini"},on:{click:function(t){return e.grantUserGroup()}}},[e._v("授权 ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"name",label:"已授权用户组名称"}}),r("el-table-column",{attrs:{prop:"comment",label:"描述"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(r){return e.revokeUserGroup(t.row)}}},[e._v("解除")])]}}])})],1),r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.pagination.total,"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize},on:{"current-change":e.paginationCurrentChange}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.formStatus.visible=!1}}},[e._v("关闭")])],1)],1)},o=[],a=r("52ab"),u={data:function(){return{userGroupId:"",user:{},tableData:[],userGroupOptions:[],loading:!1,pagination:{currentPage:1,pageSize:10,total:0}}},name:"user-usergroup-dialog",props:["formStatus"],mixins:[],mounted:function(){},methods:{initData:function(e){this.user=e,this.userGroupId="",this.pagination.currentPage=1,this.getUserGroup(""),this.fetchData()},getUserGroup:function(e){var t=this;Object(a["d"])(this.user.id,e,1,20).then((function(e){t.userGroupOptions=e.body.data}))},closeDialog:function(){this.formStatus.visible=!1,this.$emit("closeUserUserGroupDialog")},handleClick:function(){this.$emit("input",!this.value)},grantUserGroup:function(){var e=this;setTimeout((function(){Object(a["c"])(e.user.id,e.userGroupId).then((function(t){e.$message({message:"成功",type:"success"}),e.userGroupId="",e.getUserGroup(""),e.fetchData()}))}),30)},revokeUserGroup:function(e){var t=this;setTimeout((function(){Object(a["g"])(t.user.id,e.id).then((function(e){t.$message({message:"成功",type:"success"}),t.getUserGroup(""),t.fetchData()}))}),30)},paginationCurrentChange:function(e){this.pagination.currentPage=e,this.fetchData()},fetchData:function(){var e=this;this.loading=!0,Object(a["f"])(this.user.id,this.pagination.currentPage,this.pagination.pageSize).then((function(t){e.tableData=t.body.data,e.pagination.total=t.body.totalNum,e.loading=!1}))}}},i=u,s=r("2877"),l=function(e){e.options.__source="src/components/opscloud/dialog/UserUserGroupDialog.vue"},c=l,d=Object(s["a"])(i,n,o,!1,null,null,null);"function"===typeof c&&c(d);t["a"]=d.exports},e8b6:function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"j",(function(){return i})),r.d(t,"g",(function(){return s})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"h",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"i",(function(){return f}));var n=r("9bd2");function o(e,t,r,o){return Object(n["a"])({url:"/server/group/page/query?name="+e+"&grpType="+t+"&page="+r+"&length="+o,method:"get"})}function a(e){return Object(n["a"])({url:"/server/group/add",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/server/group/del?id="+e,method:"delete"})}function i(e){return Object(n["a"])({url:"/server/group/update",method:"put",data:e})}function s(e,t,r){return Object(n["a"])({url:"/server/group/user/include/page/query?userId="+e+"&page="+t+"&length="+r,method:"get"})}function l(e,t,r,o){return Object(n["a"])({url:"/server/group/user/exclude/page/query?userId="+e+"&queryName="+t+"&page="+r+"&length="+o,method:"get"})}function c(e,t){return Object(n["a"])({url:"/server/group/grant?userId="+e+"&serverGroupId="+t,method:"get"})}function d(e,t){return Object(n["a"])({url:"/server/group/revoke?userId="+e+"&serverGroupId="+t,method:"delete"})}function p(e){return Object(n["a"])({url:"/server/group/attribute/query?id="+e,method:"get"})}function f(e){return Object(n["a"])({url:"/server/group/attribute/save",method:"put",data:e})}},f086:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.formStatus.operationType?e.formStatus.addTitle:e.formStatus.updateTitle,visible:e.formStatus.visible,"before-close":e.closeDialog},on:{"update:visible":function(t){return e.$set(e.formStatus,"visible",t)}}},[r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"用户名","label-width":e.formStatus.labelWidth,required:!0}},[r("el-input",{attrs:{placeholder:"请输入内容",disabled:!e.formStatus.operationType},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1)],1),r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"密码","label-width":e.formStatus.labelWidth,required:e.formStatus.operationType}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-key"},on:{click:e.getUserRandomPassword},slot:"append"})],1)],1)],1),r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"显示名","label-width":e.formStatus.labelWidth,required:!0}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.user.displayName,callback:function(t){e.$set(e.user,"displayName",t)},expression:"user.displayName"}})],1)],1),r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"姓名","label-width":e.formStatus.labelWidth}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"电话","label-width":e.formStatus.labelWidth}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1)],1),r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"邮箱","label-width":e.formStatus.labelWidth,required:!0}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"微信","label-width":e.formStatus.labelWidth}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.user.wechat,callback:function(t){e.$set(e.user,"wechat",t)},expression:"user.wechat"}})],1)],1),r("el-form",{attrs:{model:e.user}},[r("el-form-item",{attrs:{label:"留言","label-width":e.formStatus.labelWidth}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.user.comment,callback:function(t){e.$set(e.user,"comment",t)},expression:"user.comment"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveInfo}},[e._v("确定")])],1)],1)},o=[],a=r("2d8e"),u={data:function(){return{user:"",password:""}},name:"UserDialog",props:["formStatus"],mounted:function(){},methods:{closeDialog:function(){this.password="",this.formStatus.visible=!1,this.$emit("closeDialog")},initData:function(e){this.user=e},getUserRandomPassword:function(){var e=this;Object(a["f"])().then((function(t){e.password=t.body}))},saveInfo:function(){var e=this;setTimeout((function(){var t=Object.assign({},e.user);t.password=e.password,e.formStatus.operationType?Object(a["b"])(t).then((function(t){e.$message({message:"成功",type:"success"}),e.closeDialog()})):Object(a["m"])(t).then((function(t){e.$message({message:"成功",type:"success"}),e.closeDialog()}))}),600)}}},i=u,s=r("2877"),l=function(e){e.options.__source="src/components/opscloud/dialog/UserDialog.vue"},c=l,d=Object(s["a"])(i,n,o,!1,null,null,null);"function"===typeof c&&c(d);t["a"]=d.exports}}]);