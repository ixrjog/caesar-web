(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f180916a"],{"6f8b":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[[a("div",[a("h1",[e._v("服务器组类型")])]),a("div",{staticStyle:{"margin-bottom":"5px"}},[a("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{gutter:24}},[a("el-input",{style:e.searchBarHeadStyle,attrs:{placeholder:"名称"},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name","string"===typeof t?t.trim():t)},expression:"queryParam.name"}}),a("el-button",{style:e.searchBarStyle,on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{style:e.searchBarStyle,on:{click:e.addItem}},[e._v("新增")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{style:{color:t.row.color},attrs:{"disable-transitions":""}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{prop:"grpType",label:"类型值"}}),a("el-table-column",{attrs:{prop:"comment",label:"描述"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",plain:"",size:"mini"},on:{click:function(a){return e.updateItem(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(a){return e.delItem(t.row)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"","page-sizes":[10,15,20,25,30],layout:"sizes, prev, pager, next",total:e.pagination.total,"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize},on:{"current-change":e.paginationCurrentChange,"size-change":e.handleSizeChange}}),a("ServerGroupTypeDialog",{attrs:{formStatus:e.formServerGroupTypeStatus,formData:e.serverGroupType},on:{closeServerGroupTypeDialog:e.fetchData}})]],2)},o=[],n=(a("a4d3"),a("4de4"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.formStatus.operationType?e.formStatus.addTitle:e.formStatus.updateTitle,visible:e.formStatus.visible},on:{"update:visible":function(t){return e.$set(e.formStatus,"visible",t)}}},[a("el-form",{attrs:{model:e.formData}},[a("el-form-item",{attrs:{label:"名称","label-width":e.formStatus.labelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),a("el-form",{attrs:{model:e.formData}},[a("el-form-item",{attrs:{label:"类型值","label-width":e.formStatus.labelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容",disabled:!e.formStatus.operationType},model:{value:e.formData.grpType,callback:function(t){e.$set(e.formData,"grpType",t)},expression:"formData.grpType"}})],1)],1),a("el-form",{attrs:{model:e.formData}},[a("el-form-item",{attrs:{label:"颜色","label-width":e.formStatus.labelWidth}},[a("el-color-picker",{model:{value:e.formData.color,callback:function(t){e.$set(e.formData,"color",t)},expression:"formData.color"}})],1)],1),a("el-form",{attrs:{model:e.formData}},[a("el-form-item",{attrs:{label:"描述","label-width":e.formStatus.labelWidth}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.formData.comment,callback:function(t){e.$set(e.formData,"comment",t)},expression:"formData.comment"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.formStatus.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.saveInfo}},[e._v("确定")])],1)],1)},s=[],l=a("b06d"),u={data:function(){return{}},name:"tag-dialog",props:["formStatus","formData"],mounted:function(){},methods:{handleClick:function(){this.$emit("input",!this.value)},saveInfo:function(){var e=this;setTimeout((function(){var t=Object.assign({},e.formData);e.formStatus.operationType?Object(l["a"])(t).then((function(t){e.$message({message:"成功",type:"success"}),e.formStatus.visible=!1,e.$emit("closeServerGroupTypeDialog")})):Object(l["d"])(t).then((function(t){e.$message({message:"成功",type:"success"}),e.formStatus.visible=!1,e.$emit("closeServerGroupTypeDialog")}))}),600)}}},c=u,p=a("2877"),m=function(e){e.options.__source="src/components/opscloud/dialog/ServerGroupTypeDialog.vue"},f=m,d=Object(p["a"])(c,i,s,!1,null,null,null);"function"===typeof f&&f(d);var g=d.exports,b=a("5880");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={data:function(){return{searchBarHeadStyle:{display:"inline-block",maxWidth:"200px",marginLeft:"10px"},searchBarStyle:{marginLeft:"5px"},serverGroupType:{},formServerGroupTypeStatus:{visible:!1,addTitle:"新增服务器组类型配置",updateTitle:"更新服务器组类型配置",labelWidth:"100px",operationType:!0},tableData:[],options:{stripe:!0},formOptions:{labelWidth:"80px",labelPosition:"left",saveLoading:!1},loading:!1,pagination:{currentPage:1,pageSize:10,total:0},queryParam:{name:"",grpType:""}}},mounted:function(){this.initPageSize(),this.fetchData()},computed:y({},Object(b["mapState"])("d2admin/user",["info"])),components:{ServerGroupTypeDialog:g},methods:y({},Object(b["mapActions"])({setPageSize:"d2admin/user/set"}),{handleSizeChange:function(e){this.pagination.pageSize=e,this.info.pageSize=e,this.setPageSize(this.info),this.fetchData()},initPageSize:function(){"undefined"!==typeof this.info.pageSize&&(this.pagination.pageSize=this.info.pageSize)},handleDialogCancel:function(e){this.$message({message:"取消保存",type:"warning"}),e()},delItem:function(e){var t=this;this.$confirm("此操作将删除当前配置?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])(e.id).then((function(e){t.fetchData(),t.$message({type:"success",message:"删除成功!"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addItem:function(){this.formServerGroupTypeStatus.operationType=!0,this.formServerGroupTypeStatus.visible=!0,this.serverGroupType={id:"",name:"",grpType:"",color:"#dd4d3a",comment:""}},updateItem:function(e){this.serverGroupType=Object.assign({},e),this.formServerGroupTypeStatus.operationType=!1,this.formServerGroupTypeStatus.visible=!0},paginationCurrentChange:function(e){this.pagination.currentPage=e,this.fetchData()},fetchData:function(){var e=this;this.loading=!0,Object(l["c"])(this.queryParam.name,this.queryParam.grpType,this.pagination.currentPage,this.pagination.pageSize).then((function(t){e.tableData=t.body.data,e.pagination.total=t.body.totalNum,e.loading=!1}))}})},S=v,D=function(e){e.options.__source="src/pages/server/group/type/index.vue"},T=D,O=Object(p["a"])(S,r,o,!1,null,null,null);"function"===typeof T&&T(O);t["default"]=O.exports},b06d:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return s}));var r=a("9bd2");function o(e,t,a,o){return Object(r["a"])({url:"/server/group/type/page/query?name="+e+"&grpType="+t+"&page="+a+"&length="+o,method:"get"})}function n(e){return Object(r["a"])({url:"/server/group/type/add",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/server/group/type/del?id="+e,method:"delete"})}function s(e){return Object(r["a"])({url:"/server/group/type/update",method:"put",data:e})}}}]);