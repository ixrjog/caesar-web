(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c65f560"],{"2a1b":function(t,e,o){"use strict";var r=o("7b50"),a=o.n(r);a.a},"316f":function(t,e,o){"use strict";o.d(e,"c",(function(){return a})),o.d(e,"b",(function(){return n})),o.d(e,"a",(function(){return i})),o.d(e,"d",(function(){return u}));var r=o("9bd2");function a(t){return Object(r["a"])({url:"/workorder/group/page/query",method:"post",data:t})}function n(){return Object(r["a"])({url:"/workorder/group/query",method:"get"})}function i(t){return Object(r["a"])({url:"/workorder/group/del?id="+t,method:"delete"})}function u(t){return Object(r["a"])({url:"/workorder/group/save",method:"post",data:t})}},"4eee":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("d2-container",[o("h1",[t._v(t._s(t.title))]),o("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"工单组管理",name:"workorderGroup"}},[o("WorkorderGroupTable",{ref:"workorderGroupTable"})],1)],1)],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",{staticStyle:{"margin-bottom":"5px"},attrs:{gutter:24}},[o("el-input",{staticClass:"input-bar",attrs:{placeholder:"关键字查询"},model:{value:t.queryParam.queryName,callback:function(e){t.$set(t.queryParam,"queryName",e)},expression:"queryParam.queryName"}}),o("el-button",{staticClass:"button",on:{click:t.fetchData}},[t._v("查询")]),o("el-button",{staticClass:"button",on:{click:t.addItem}},[t._v("新增")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[o("el-table-column",{attrs:{prop:"name",label:"名称"}}),o("el-table-column",{attrs:{prop:"comment",label:"描述"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(o){return t.editItem(e.row)}}},[t._v("编辑")]),o("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:function(o){return t.delItem(e.row)}}},[t._v("删除")])]}}])})],1),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pagination.total,"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize},on:{"current-change":t.paginationCurrentChange}}),o("WorkorderGroupDialog",{ref:"workorderGroupDialog",attrs:{formStatus:t.formStatus},on:{closeWorkorderGroupDialog:t.fetchData}})],1)},i=[],u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:t.formStatus.operationType?t.formStatus.addTitle:t.formStatus.updateTitle,visible:t.formStatus.visible},on:{"update:visible":function(e){return t.$set(t.formStatus,"visible",e)}}},[o("el-form",{attrs:{model:t.workorderGroupData}},[o("el-form-item",{attrs:{label:"名称","label-width":t.labelWidth}},[o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.workorderGroupData.name,callback:function(e){t.$set(t.workorderGroupData,"name",e)},expression:"workorderGroupData.name"}})],1)],1),o("el-form",{attrs:{model:t.workorderGroupData}},[o("el-form-item",{attrs:{label:"描述","label-width":t.labelWidth}},[o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.workorderGroupData.comment,callback:function(e){t.$set(t.workorderGroupData,"comment",e)},expression:"workorderGroupData.comment"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.formStatus.visible=!1}}},[t._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.saveInfo}},[t._v("确定")])],1)],1)},s=[],l=o("316f"),c={data:function(){return{workorderGroupData:"",labelWidth:"100px"}},name:"WorkorderGroupDialog",props:["formStatus"],mounted:function(){},methods:{initData:function(t){this.workorderGroupData=t},saveInfo:function(){var t=this;setTimeout((function(){var e=Object.assign({},t.workorderGroupData);Object(l["d"])(e).then((function(e){t.$message({message:"成功",type:"success"}),t.formStatus.visible=!1,t.$emit("closeWorkorderGroupDialog")}))}),600)}}},p=c,d=o("2877"),f=function(t){t.options.__source="src/components/opscloud/workorder/WorkorderGroupDialog.vue"},m=f,b=Object(d["a"])(p,u,s,!1,null,null,null);"function"===typeof m&&m(b);var g=b.exports,h={data:function(){return{formStatus:{visible:!1,addTitle:"新增工单组配置",updateTitle:"更新工单组配置",operationType:!0},tableData:[],options:{stripe:!0},loading:!1,pagination:{currentPage:1,pageSize:10,total:0},queryParam:{queryName:""}}},name:"WorkorderGroupTable",props:[],mounted:function(){this.fetchData()},components:{WorkorderGroupDialog:g},methods:{addItem:function(){var t={id:"",name:"",comment:"",workorderType:0};this.formStatus.operationType=!0,this.formStatus.visible=!0,this.$refs.workorderGroupDialog.initData(t)},editItem:function(t){var e=Object.assign({},t);this.formStatus.operationType=!1,this.formStatus.visible=!0,this.$refs.workorderGroupDialog.initData(e)},delItem:function(t){var e=this;this.$confirm("此操作将删除当前配置?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["a"])(t.id).then((function(t){e.fetchData(),e.$message({type:"success",message:"删除成功!"})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},paginationCurrentChange:function(t){this.pagination.currentPage=t,this.fetchData()},fetchData:function(){var t=this;this.loading=!0;var e=Object.assign({},this.queryParam);e.page=this.pagination.currentPage,e.length=this.pagination.pageSize,Object(l["c"])(e).then((function(e){t.tableData=e.body.data,t.pagination.total=e.body.totalNum,t.loading=!1}))}}},k=h,v=(o("d2cb"),function(t){t.options.__source="src/components/opscloud/table/WorkorderGroupTable.vue"}),w=v,y=Object(d["a"])(k,n,i,!1,null,"6fe5df6a",null);"function"===typeof w&&w(y);var D=y.exports,G={data:function(){return{activeName:"workorderGroup",title:"工单配置",creating:!1,previewHosts:{}}},components:{WorkorderGroupTable:D},mounted:function(){this.$refs.workorderGroupTable.fetchData()},methods:{}},S=G,_=(o("2a1b"),function(t){t.options.__source="src/pages/workorder/mgmt/index.vue"}),T=_,$=Object(d["a"])(S,r,a,!1,null,"768ab989",null);"function"===typeof T&&T($);e["default"]=$.exports},"7b50":function(t,e,o){},"82d9":function(t,e,o){},d2cb:function(t,e,o){"use strict";var r=o("82d9"),a=o.n(r);a.a}}]);